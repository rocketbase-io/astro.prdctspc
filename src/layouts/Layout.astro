---
import '../styles/base.css';
import TwSizeIndicator from "../components/TwSizeIndicator.astro";
import Navigation from "../components/Navigation.astro";
import Footer from "../components/Footer.astro";
import { ViewTransitions } from 'astro:transitions';
import { SEO } from "astro-seo";
import {getImagePath} from "astro-opengraph-images";

interface Props {
	title?: string;
	description?: string;
}

const { title, description } = Astro.props;
const { url, site } = Astro;
const openGraphImageUrl = getImagePath({ url, site });
---

<SEO
	title={title}
	description={description}
	      openGraph={
	        {

	          basic: {
	            title: `${title || 'ProductSpace: Individuelle Produktdaten, Smarte Collaboration'}`,
	            type: "website",
	            image: openGraphImageUrl,
	            url: url,
	          },
	          optional: {
	            description: `${description || 'ProductSpace beschleunigt durch eine zentrale Plattform die Kommunikation und Collaboration an Ihrem Sortiment - Im Team und mit Partnern.'}`,
	          },
	        }
	      }
	    />


<!doctype html>
<html lang="de" class="h-full scroll-smooth bg-white antialiased">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="icon" type="image/x-icon" href="/favicon.ico" />
		<meta name="generator" content={Astro.generator} />
		<link rel="sitemap" href="/sitemap-index.xml" />
		<script defer type="module">
			import "https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.umd.js";
			CookieConsent.run({
				guiOptions: {
					consentModal: {
						layout: "box",
						position: "bottom left",
						equalWeightButtons: true,
						flipButtons: false
					},
					preferencesModal: {
						layout: "box",
						position: "right",
						equalWeightButtons: true,
						flipButtons: false
					}
				},
				categories: {
					necessary: {
						readOnly: true
					},
					marketing: {}
				},
				language: {
					default: "de",
					autoDetect: "browser",
					translations: {
						de: {
							consentModal: {
								title: "Diese Webseite verwendet Cookies.\n",
								description: "Wir verwenden auf dieser Seite verschiedene Arten von Cookies. Technische und funktionale Cookies sind notwendig, damit alles reibungslos funktioniert. Zusätzlich setzen wir Marketing-Cookies ein, um dich wiederzuerkennen und den Erfolg unserer Kampagnen zu messen.",
								closeIconLabel: "",
								acceptAllBtn: "Alle akzeptieren",
								acceptNecessaryBtn: "Alle ablehnen",
								showPreferencesBtn: "Einstellungen verwalten",
								footer: "<a href=\"/datenschutz\">Datenschutz</a>\n<a href=\"/impressum\">Impressum</a>"
							},
							preferencesModal: {
								title: "Präferenzen für die Zustimmung",
								closeIconLabel: "Modal schließen",
								acceptAllBtn: "Alle akzeptieren",
								acceptNecessaryBtn: "Alle ablehnen",
								savePreferencesBtn: "Einstellungen speichern",
								serviceCounterLabel: "Dienstleistungen",
								sections: [
									{
										title: "Notwendige Cookies <span class=\"pm__badge\">Immer Aktiviert</span>",
										description: "Damit unsere Website reibungslos läuft, sind einige Cookies notwendig. Außerdem helfen Webanalysen, die Website zu verbessern und Fehler zu beheben.",
										linkedCategory: "necessary"
									},
									{
										title: "Marketing Cookies",
										description: "Damit wir Sie auf unseren Seiten wieder erkennen und den Erfolg unserer Kampagnen messen können.",
										linkedCategory: "marketing"
									}
								]
							}
						}
					}
				}
			});

		</script>
		<script defer data-domain="productspace.io" src="https://plausible.io/js/script.js"></script>
		<ViewTransitions fallback="swap" />
	</head>
	<body class="flex h-full flex-col">
		<TwSizeIndicator />
		<Navigation />
		<slot />
		<Footer />
		<script is:inline src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js"
				integrity="sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ=="
				crossorigin="anonymous" referrerpolicy="no-referrer"></script>

		<script type="text/plain"
				data-category="marketing">
			_linkedin_partner_id = "5204394";
            window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];
            window._linkedin_data_partner_ids.push(_linkedin_partner_id);
		</script>
		<script type="text/plain"
				data-category="marketing">
			(function(l) {
            if (!l){window.lintrk = function(a,b){window.lintrk.q.push([a,b])};
            window.lintrk.q=[]}
            var s = document.getElementsByTagName("script")[0];
            var b = document.createElement("script");
            b.type = "text/javascript";b.async = true;
            b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";
            s.parentNode.insertBefore(b, s);})(window.lintrk);
		</script>
	</body>
</html>
